:root { 
  --ink:#0f172a; 
  --muted:#334155; 
  --brand:#0ea5e9; 
  --ok:#16a34a; 
  --warn:#f59e0b; 
  --crit:#ef4444; 
  --primary: #0ea5e9;
  --primary-dark: #0284c7;
  --secondary: #64748b;
  --background: #0b1220;
  --surface: #1e293b;
  --surface-light: #334155;
  --text: #e5e7eb;
  --text-secondary: #cbd5e1;
  --card-bg: rgba(30, 41, 59, 0.8);
  --card-border: rgba(255, 255, 255, 0.1);
  --shadow: 0 10px 30px rgba(0,0,0,.3);
  --shadow-soft: 0 4px 6px rgba(0,0,0,.1);
  --border-radius: 1rem;
  --transition: all 0.3s ease;
}

html, body { 
  background: var(--background); 
  color: var(--text); 
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* Estilos para contenedor principal */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 1rem;
}

/* Estilos para el header principal */
.main-header {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  padding: 1.5rem;
  margin-bottom: 1rem;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
}

.logo-container {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.logo {
  height: 80px;
  width: auto;
  border-radius: 0.5rem;
  object-fit: contain;
}

.header-content {
  flex: 1;
}

.header-content h1 {
  margin: 0 0 0.5rem 0;
  font-size: 1.8rem;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.header-content h1 i {
  color: var(--primary);
}

.note {
  color: var(--text-secondary); 
  font-size: 0.9rem;
  margin: 0.25rem 0;
}

.version-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

.last-saved {
  font-size: 0.85rem;
}

/* Estilos para la navegación principal */
.main-nav {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.nav-btn {
  flex: 1;
  min-width: 120px;
  padding: 0.8rem 1rem;
  border: 1px solid var(--card-border);
  border-radius: 0.75rem;
  background: var(--card-bg);
  color: var(--text);
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  font-weight: 500;
}

.nav-btn:hover {
  background: var(--surface-light);
  transform: translateY(-2px);
}

.nav-btn.active {
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  color: #0b1220;
  border-color: var(--primary);
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
}

.nav-btn i {
  font-size: 1.1rem;
}

/* Estilos para el contenido principal */
#main-content {
  min-height: 60vh;
}

.tab-content {
  display: none;
  animation: fadeIn 0.5s ease;
}

.tab-content.active {
  display: block;
}

/* Animación de fadeIn */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Estilos para secciones del formulario */
.form-section, .data-section, .stats-section, .config-section {
  padding: 2rem;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow);
  margin-bottom: 2rem;
}

.form-section h2, .data-section h2, .stats-section h2, .config-section h2 {
  margin-top: 0;
  padding-bottom: 1rem;
  border-bottom: 1px solid var(--card-border);
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.form-section h2 i, .data-section h2 i, .stats-section h2 i, .config-section h2 i {
  color: var(--primary);
}

/* Estilos para filas de formulario */
.form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

/* Estilos para grupos de formulario */
.form-group {
  flex: 1;
  min-width: 250px;
  margin-bottom: 1.5rem;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.form-control {
  width: 100%;
  padding: 0.75rem;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 0.5rem;
  color: var(--text);
  font-size: 1rem;
  transition: var(--transition);
}

.form-control:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.2);
}

.form-control::placeholder {
  color: #94a3b8;
}

/* Estilos para el contenedor de ubicación */
.location-input-container {
  display: flex;
  gap: 0.75rem;
  align-items: center;
}

.location-input-container .form-control {
  flex: 1;
}

.location-display {
  margin-top: 0.5rem;
  padding: 0.75rem;
  background: rgba(255,255,255,0.05);
  border-radius: 0.5rem;
  font-size: 0.9rem;
  color: var(--text-secondary);
  display: none;
}

.location-display.show {
  display: block;
}

/* Estilos para los dropdowns personalizados */
.dropdown-card {
  position: relative;
  width: 100%;
}

.dropdown-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 0.5rem;
  cursor: pointer;
  transition: var(--transition);
}

.dropdown-header:hover {
  background: rgba(255,255,255,.1);
}

.dropdown-header span {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.dropdown-arrow {
  transition: transform 0.2s ease;
}

.dropdown-card.active .dropdown-arrow {
  transform: rotate(180deg);
}

.dropdown-options {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 0.5rem;
  margin-top: 0.25rem;
  z-index: 1000;
  max-height: 200px;
  overflow-y: auto;
  box-shadow: var(--shadow);
  display: none;
}

.dropdown-option {
  padding: 0.75rem;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.dropdown-option:hover {
  background: rgba(255,255,255,.1);
}

.dropdown-option.tag-option .tag-color {
  display: inline-block;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  margin-right: 0.5rem;
}

/* Estilos para el contenedor de fotos */
.photo-upload-container {
  position: relative;
}

#photo-preview {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 0.5rem;
  margin-top: 0.75rem;
}

.photo-preview img {
  width: 100%;
  height: 100px;
  object-fit: cover;
  border-radius: 0.5rem;
  border: 1px solid var(--card-border);
}

/* Estilos para botones de acción */
.form-actions {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
  flex-wrap: wrap;
}

.form-actions .btn {
  flex: 1;
  min-width: 140px;
}

.btn { 
  border-radius: .75rem; 
  padding: .75rem 1.25rem; 
  border: 1px solid rgba(255,255,255,.16); 
  cursor: pointer;
  font-weight: 600;
  transition: var(--transition);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  text-decoration: none;
}

.btn-primary { 
  background: linear-gradient(135deg, #22d3ee, #0ea5e9); 
  color: #0b1220; 
  border-color: var(--primary);
}

.btn-primary:hover {
  background: linear-gradient(135deg, #0ea5e9, #0369a1);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
}

.btn-ghost { 
  background: transparent; 
  color: var(--text);
}

.btn-ghost:hover {
  background: rgba(255,255,255,.1);
}

.btn-danger { 
  background: linear-gradient(135deg, #fb7185, #ef4444); 
  color: #fff; 
}

.btn-danger:hover {
  background: linear-gradient(135deg, #f87171, #dc2626);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

.btn-highlight { 
  background-color: #fbbf24; 
  color: #000; 
}

/* Estilos para la sección de datos */
.controls {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}

.grid-2 { 
  display: grid; 
  grid-template-columns: 1fr; 
  gap: 1.5rem; 
}

@media(min-width:768px){ 
  .grid-2 { 
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
  } 
}

/* Estilos para tarjetas de observación */
.observation-card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-left: 4px solid var(--primary);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  box-shadow: var(--shadow-soft);
  transition: var(--transition);
  position: relative;
}

.observation-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

.observation-card h3 {
  margin: 0 0 1rem 0;
  color: var(--text);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.observation-card h3 small {
  font-size: 0.8rem;
  color: var(--text-secondary);
}

.observation-detail {
  margin-bottom: 0.75rem;
}

.observation-detail.full-width {
  width: 100%;
  clear: both;
}

.tag-display {
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  font-size: 0.85rem;
  font-weight: 500;
}

.photo-thumbnails {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-top: 0.5rem;
}

.observation-photo-thumbnail {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 0.5rem;
  border: 1px solid var(--card-border);
}

.delete-btn {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: var(--crit);
  color: white;
  border: none;
  border-radius: 0.375rem;
  padding: 0.375rem 0.75rem;
  cursor: pointer;
  font-size: 0.875rem;
}

.delete-btn:hover {
  background: #dc2626;
}

.download-photo-btn {
  margin-top: 0.5rem;
  margin-right: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(14, 165, 233, 0.2);
  color: var(--text);
  border: 1px solid var(--card-border);
  border-radius: 0.375rem;
  cursor: pointer;
}

.download-photo-btn:hover {
  background: rgba(14, 165, 233, 0.3);
}

.no-observations {
  text-align: center;
  padding: 2rem;
  color: var(--text-secondary);
  font-style: italic;
}

/* Estilos para la sección de estadísticas */
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1.5rem;
  margin: 1.5rem 0;
}

.stat-card {
  display: flex;
  align-items: center;
  gap: 1rem;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--border-radius);
  padding: 1.5rem;
  box-shadow: var(--shadow-soft);
}

.stat-icon {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 1.5rem;
}

.stat-info h3 {
  margin: 0;
  font-size: 2rem;
  color: var(--text);
}

.stat-info p {
  margin: 0;
  color: var(--text-secondary);
  font-size: 0.9rem;
}

.chart-container {
  margin-top: 2rem;
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--border-radius);
  padding: 1.5rem;
}

/* Estilos para la sección de configuración */
.config-options {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.config-item {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.config-item label {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-weight: 500;
  color: var(--text);
}

.toggle-switch {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.toggle-switch input[type="checkbox"] {
  width: 50px;
  height: 24px;
  -webkit-appearance: none;
  background: var(--surface-light);
  border-radius: 12px;
  position: relative;
  cursor: pointer;
  outline: none;
}

.toggle-switch input[type="checkbox"]:checked {
  background: var(--primary);
}

.toggle-switch input[type="checkbox"]::before {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: white;
  top: 2px;
  left: 2px;
  transition: var(--transition);
}

.toggle-switch input[type="checkbox"]:checked::before {
  transform: translateX(26px);
}

/* Estilos para el modal */
.modal {
  display: none;
  position: fixed;
  z-index: 2000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: transparent; /* Modificado para eliminar el fondo oscuro */
}

.modal-content {
  background: var(--card-bg);
  margin: 10% auto;
  padding: 0;
  border: 1px solid var(--card-border);
  border-radius: var(--border-radius);
  width: 90%;
  max-width: 500px;
  box-shadow: var(--shadow);
  animation: modalAppear 0.3s ease;
}

@keyframes modalAppear {
  from { opacity: 0; transform: translateY(-50px); }
  to { opacity: 1; transform: translateY(0); }
}

.modal-header {
  padding: 1rem 1.5rem;
  border-bottom: 1px solid var(--card-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h3 {
  margin: 0;
  color: var(--text);
}

.close {
  color: var(--text-secondary);
  font-size: 1.5rem;
  font-weight: bold;
  cursor: pointer;
  transition: var(--transition);
}

.close:hover {
  color: var(--crit);
}

.modal-body {
  padding: 1.5rem;
  color: var(--text);
}

.modal-footer {
  padding: 1rem 1.5rem;
  border-top: 1px solid var(--card-border);
  display: flex;
  justify-content: flex-end;
}

/* Estilos para listas con viñetas */
.bullet-item {
  margin: 0.25rem 0;
  padding-left: 1.25rem;
  position: relative;
}

.bullet-item::before {
  content: "•";
  position: absolute;
  left: 0;
  color: var(--primary);
}

.regular-item {
  margin: 0.25rem 0;
}

/* Estilos para tarjetas de contenido */
.card { 
  background: var(--card-bg); 
  border: 1px solid var(--card-border); 
  border-radius: var(--border-radius); 
  box-shadow: var(--shadow);
}

.chip { 
  border: 1px solid var(--card-border); 
  border-radius: 9999px; 
  padding: .15rem .6rem; 
  font-size: .75rem; 
  background: rgba(255,255,255,0.05);
}

.soft { 
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06); 
}

.thumb { 
  aspect-ratio: 4/3; 
  object-fit: cover; 
  border-radius: .75rem; 
  border: 1px solid var(--card-border); 
  background: var(--background); 
}

.kpi { 
  border: 1px solid var(--card-border); 
  border-radius: .75rem; 
  padding: .4rem .6rem; 
  background: rgba(255,255,255,0.05);
}

.kbd { 
  border: 1px solid rgba(255,255,255,.2); 
  border-radius: .4rem; 
  padding: .1rem .35rem; 
  font-size: .75rem; 
  background: rgba(255,255,255,0.05);
}

/* Estilos responsivos mejorados para dispositivos móviles */
@media (max-width: 768px) {
  .container {
    padding: 0.5rem;
  }
  
  .main-header {
    flex-direction: column;
    text-align: center;
    gap: 1rem;
    padding: 1rem;
  }
  
  .logo-container {
    order: -1; /* Mover el logo al inicio en móviles */
  }
  
  .header-content h1 {
    font-size: 1.5rem;
    flex-direction: column;
    gap: 0.25rem;
  }
  
  .header-content h1 i {
    font-size: 1.8rem;
  }
  
  .version-info {
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
  }
  
  .main-nav {
    flex-wrap: wrap;
  }
  
  .nav-btn {
    min-width: calc(50% - 0.25rem);
    padding: 0.7rem 0.5rem;
    font-size: 0.85rem;
    justify-content: center;
  }
  
  .form-row {
    flex-direction: column;
    gap: 1rem;
  }
  
  .form-group {
    min-width: 100%;
  }
  
  .location-input-container {
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .form-actions {
    flex-direction: column;
  }
  
  .controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .stat-card {
    flex-direction: column;
    text-align: center;
    align-items: center;
  }
  
  .config-options {
    gap: 1rem;
  }
  
  .observation-card {
    padding: 1rem;
  }
  
  .observation-card h3 {
    font-size: 1.1rem;
  }
  
  .form-section, .data-section, .stats-section, .config-section {
    padding: 1.5rem;
  }
}

@media (max-width: 480px) {
  .main-nav {
    flex-direction: row;
    gap: 0.25rem;
  }
  
  .nav-btn {
    min-width: calc(50% - 0.125rem);
    padding: 0.6rem 0.4rem;
    font-size: 0.8rem;
  }
  
  .observation-card h3 {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
    font-size: 1rem;
  }
  
  .stat-icon {
    width: 50px;
    height: 50px;
    font-size: 1.2rem;
  }
  
  .stat-info h3 {
    font-size: 1.5rem;
  }
  
  .stats-grid {
    grid-template-columns: 1fr;
  }
  
  .form-control, .btn {
    font-size: 1rem; /* Asegurar que los controles sean toque-amigables */
    padding: 0.8rem;
  }
  
  /* Aumentar tamaño de los elementos táctiles */
  .dropdown-header, .location-input-container button {
    min-height: 2.5rem;
  }
  
  .delete-btn, .download-photo-btn {
    padding: 0.5rem 0.75rem;
    font-size: 0.8rem;
  }
  
  /* Asegurar que el teclado no oculte el formulario */
  body {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Estilos táctiles y mejoras para móviles */
@media (hover: none) and (pointer: coarse) {
  .btn, .dropdown-header, .nav-btn {
    /* Aumentar tamaño de toque para dispositivos táctiles */
    min-height: 2.5rem;
    min-width: 2.5rem;
  }
  
  .btn {
    padding: 0.9rem 1.25rem;
  }
  
  .observation-photo-thumbnail {
    width: 70px;
    height: 70px;
  }
  
  .photo-thumbnails {
    gap: 0.25rem;
  }
}

/* Optimización para pantallas de alta densidad */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Estilos para animaciones de carga y efectos visuales */
.loading {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(255,255,255,.3);
  border-radius: 50%;
  border-top-color: #fff;
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Efectos de hover mejorados */
.btn:hover, .nav-btn:hover, .dropdown-header:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.btn:active, .nav-btn:active, .dropdown-header:active {
  transform: translateY(0);
}

/* Efectos para observaciones */
.observation-card {
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.observation-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(90deg, var(--primary), var(--brand));
  opacity: 0;
  transition: opacity 0.3s ease;
}

.observation-card:hover::before {
  opacity: 1;
}

/* Estilo para notificaciones */
.toastify {
  padding: 12px 20px;
  color: #fff;
  display: inline-block;
  box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
  background: linear-gradient(135deg, var(--primary), var(--primary-dark));
  border-radius: 8px;
  font-family: var(--font-family);
  cursor: pointer;
}

/* Estilo para badges de estado */
.badge {
  display: inline-block;
  padding: 0.25em 0.5em;
  font-size: 0.75em;
  font-weight: 700;
  line-height: 1;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: 0.375rem;
  background-color: var(--primary);
  color: #0b1220;
}

.badge.importante { background-color: var(--crit); }
.badge.novedad { background-color: var(--warn); }
.badge.rutina { background-color: var(--ok); }

/* Efectos de entrada para animaciones */
.fade-in {
  animation: fadeIn 0.5s ease-in;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Estilo para barras de progreso */
.progress-bar {
  width: 100%;
  height: 8px;
  background-color: rgba(255,255,255,0.1);
  border-radius: 4px;
  overflow: hidden;
  margin: 10px 0;
}

.progress {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), var(--brand));
  border-radius: 4px;
  width: 0%;
  transition: width 0.3s ease;
}

/* Estilo para tooltips */
.tooltip {
  position: relative;
  display: inline-block;
}

.tooltip .tooltip-text {
  visibility: hidden;
  width: 120px;
  background-color: var(--surface);
  color: var(--text);
  text-align: center;
  border-radius: 6px;
  padding: 5px;
  position: absolute;
  z-index: 1000;
  bottom: 125%;
  left: 50%;
  transform: translateX(-50%);
  opacity: 0;
  transition: opacity 0.3s;
  font-size: 0.8rem;
  border: 1px solid var(--card-border);
}

.tooltip:hover .tooltip-text {
  visibility: visible;
  opacity: 1;
}

/* Estilos para la sección de mapa */
.map-section {
  padding: 2rem;
}

.map-container {
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
  border-radius: var(--border-radius);
  background-color: #000;
  margin-top: 1rem;
}

.map-view {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: auto;
  cursor: grab;
}

.map-view:active {
  cursor: grabbing;
}

.map-image {
  width: auto;
  height: auto;
  min-width: 100%;
  min-height: 100%;
  display: block;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  image-rendering: pixelated;
}

.map-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.map-marker {
  position: absolute;
  transform: translate(-50%, -100%);
  cursor: pointer;
  pointer-events: all;
  z-index: 10;
}

.map-marker::before {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  border: 8px solid transparent;
  border-top-color: currentColor;
}

.map-controls i {
    font-size: 1.2rem;
}

.modal-map-controls {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 10;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.modal-map-controls .btn {
    padding: 0.5rem;
    line-height: 1;
    background-color: rgba(0, 0, 0, 0.6) !important;
    color: white !important;
    border: 1px solid rgba(255, 255, 255, 0.5) !important;
    width: 40px;
    height: 40px;
    font-size: 1.2rem;
}

/* Hide zoom controls in the map modal since zoom is disabled */
.modal-map-controls[style*="display: none"] {
    display: none !important;
}
.map-controls {
  position: absolute;
  top: 1rem;
  right: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 5;
}

.map-info {
  position: absolute;
  bottom: 1rem;
  left: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 5;
}

.legend {
  display: flex;
  gap: 1rem;
  background: rgba(0, 0, 0, 0.7);
  padding: 0.5rem;
  border-radius: 0.5rem;
  color: white;
  font-size: 0.8rem;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 0.3rem;
}

.legend-color {
  width: 15px;
  height: 15px;
  border-radius: 50%;
}

.map-coordinates {
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 0.5rem;
  border-radius: 0.5rem;
  font-size: 0.8rem;
}

/* Estilos responsivos para el mapa */
@media (max-width: 768px) {
  .map-container {
    height: 400px;
  }
  
  .map-controls {
    top: 0.5rem;
    right: 0.5rem;
  }
  
  .map-info {
    bottom: 0.5rem;
    left: 0.5rem;
  }
  
  .legend {
    flex-direction: column;
    gap: 0.3rem;
  }
}

/* Logos en la tarjeta (pantalla) */
.kpi-card{ position:relative; }
.kpi-card .logo-bar{
  display:flex; align-items:center; justify-content:space-between;
  gap: 20px;
  margin-bottom: 15px;
}
.rdv-logo{ height:72px; width:auto; filter: drop-shadow(0 1px 1px rgba(0,0,0,.35)); }
@media (min-width:768px){ .rdv-logo{ height:96px; } }

/* En dispositivos móviles (pantallas pequeñas), centrar los logos */
@media (max-width: 575.98px) {
  .kpi-card .logo-bar {
    justify-content: center;
  }
}

/* Encabezado bilingüe (pantalla) */
.bilingual-title{ text-align:center; line-height:1.2; color:#e5e7eb; }
.kpi-card .bilingual-title{ margin-top:-14px; }
@media (min-width:768px){ .kpi-card .bilingual-title{ margin-top:-22px; } }
@media (min-width:1024px){ .kpi-card .bilingual-title{ margin-top:-26px; } }
.bilingual-title .line1{ font-weight:800; font-size:1.125rem; letter-spacing:.02em; }
.bilingual-title .line2{ font-weight:600; font-size:.95rem; opacity:.9; }
.bilingual-title .line3 .es{ font-weight:800; font-size:1.05rem; }
.bilingual-title .line3 .cn{ font-size:.95rem; margin-top:2px; }
.bilingual-title .cn{ font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans SC', 'Microsoft YaHei', sans-serif; }
.bilingual-title .sep{ height:1px; background:rgba(229, 231, 235, 0.35); margin:.35rem auto .45rem; width:96%; }

/* Estilos para los elementos del formulario */
.form-label {
  color: #e5e7eb !important;
}

.form-control {
  color: #e5e7eb !important;
  background-color: rgba(255,255,255,.06) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
}

.form-control::placeholder {
  color: #94a3b8 !important;
}

.form-control:focus {
  color: #e5e7eb !important;
  background-color: rgba(255,255,255,.06) !important;
  border-color: #0ea5e9 !important;
  box-shadow: 0 0 0 0.25rem rgba(14, 165, 233, 0.25) !important;
}

/* Estilos para textarea */
textarea.form-control {
  color: #e5e7eb !important;
  background-color: rgba(255,255,255,.06) !important;
}

/* Estilos para selects si los hubiera */
select.form-control {
  color: #e5e7eb !important;
  background-color: rgba(255,255,255,.06) !important;
}

/* Asegurar que el texto en la tabla sea visible */
.table {
  --bs-table-color: #e5e7eb;
  --bs-table-bg: transparent;
}

.table th,
.table td {
  color: #e5e7eb;
}

/* Asegurar que el texto en las pestañas sea visible */
.nav-tabs .nav-link {
  color: #e5e7eb;
}

.nav-tabs .nav-link.active {
  color: #0b1220;
}

/* Estilos generales para todo el contenido del kpi-card */
.kpi-card {
  color: #e5e7eb;
}

.kpi-card * {
  color: inherit;
}

/* Centrado del único KPI en la tarjeta */
.kpi-center-single{ display:flex; justify-content:center; }
.kpi-center-single .kpi{ text-align:center; min-width: min(100%, 460px); }
/* Ajuste de altura para quedar al nivel de logos */
.kpi-card .kpi-center-single{ margin-top:-14px; }
@media (min-width:768px){ .kpi-card .kpi-center-single{ margin-top:-24px; } }
@media (min-width:1024px){ .kpi-card .kpi-center-single{ margin-top:-28px; } }

/* ======= PRINT (A4) ======= */
@page { size: A4; margin: 12mm; }
@media print {
  body { background:#fff; color:#000; }
  .no-print { display:none !important; }
  #report { display:block !important; }
  .print-only { display:block !important; }

  #toast { display:none !important; }       /* evita el “recuadro” del aviso */
  /* Encabezado de impresión con logos */
  .rep-topbar{
    display:grid;
    grid-template-columns: 35mm 1fr 35mm;
    align-items:center;
    column-gap:8mm;
    margin-bottom:6mm;
  }
  .rep-logo{ height:26mm; width:auto; object-fit:contain; }
  .print-title{ color:#000; }
  .print-title .line1{ font-weight:800; font-size:8pt; letter-spacing:.02em; }
  .print-title .line2{ font-weight:600; font-size:10pt; }
  .print-title .line3 .es{ font-weight:800; font-size:12pt; }
  .print-title .line3 .cn{ font-size:10pt; margin-top:2px; }
  .print-title .sep{ height:1px; background:#000; margin:3pt auto 4pt; width:96%; }

  .print-grid { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
  .print-grid img { width:100%; height: 110mm; object-fit: contain; border:1px solid #010000; }
  .rep-card { border:1px solid #000; border-radius: 6px; padding:10px; }
  .rep-table { width:100%; border-collapse: collapse; }
  .rep-table th, .rep-table td { border:1px solid #000; padding:4px 6px; font-size:12px; }

  #report .print-grid { break-before: page; page-break-before: always; }
}
@media screen {
  #report { display:none; }
  .print-only { display:none; }
}


@media print{
  .rep-obs-block{ 
    border:1px solid #000; 
    border-radius:4px; 
    padding:6px 8px; 
    margin-bottom:8px; 
    page-break-inside: avoid;
  }
  .rep-obs-title{ font-weight:700; font-size:11pt; margin-bottom:4px; }
  .rep-obs-content{ white-space:pre-wrap; font-size:10pt; min-height:10mm; }
}


/* ==== MOBILE COMPACT HEADER & MOBILE PRINT TWEAKS (added by ChatGPT) ==== */
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }

@media (max-width: 480px) {
  /* Make logos and header more compact on small phones */
  .rdv-logo { height: 44px; }
  .kpi-card { padding-top: 64px; }
  .kpi-card .logo-bar { top: 8px; left: 10px; right: 10px; }
  .kpi-card .bilingual-title { margin-top: 0; }
  .bilingual-title .line1 { font-size: clamp(0.85rem, 3.8vw, 1rem); }
  .bilingual-title .line2 { font-size: clamp(0.78rem, 3.2vw, 0.9rem); }
  .bilingual-title .line3 .es { font-size: clamp(0.8rem, 3.6vw, 0.95rem); }
  .bilingual-title .line3 .cn { font-size: clamp(0.72rem, 3.2vw, 0.9rem); }
  #liveCodigo { font-size: clamp(1rem, 5.5vw, 1.35rem); }
}

@media print {
  /* Slightly tighter margins and sizes to help mobile print fit better */
  @page { size: A4; margin: 5mm; }
  html, body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  .rep-table th, .rep-table td { font-size: 10px; padding: 3px 5px; }
  .print-grid img { height: 95mm; } /* smaller photos so signatures fit on page 2 */
}


/* ==== HOTFIX: prevent logo/title overlap on small phones ==== */
@media (max-width: 520px) {
  .kpi-card { padding-top: 0 !important; }
  .kpi-card .logo-bar {
    position: static !important;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 6px;
  }
  .kpi-card .logo-bar .rdv-logo {
    height: 36px !important;
    max-width: 45%;
    width: auto;
    object-fit: contain;
  }
  .kpi-card .bilingual-title { margin-top: 0 !important; }
  .bilingual-title .line1 { font-size: clamp(0.9rem, 3.8vw, 1rem); }
  .bilingual-title .line2 { font-size: clamp(0.8rem, 3.4vw, 0.95rem); }
  .bilingual-title .line3 .es { font-size: clamp(0.85rem, 3.6vw, 0.95rem); }
  .bilingual-title .line3 .cn { font-size: clamp(0.75rem, 3.2vw, 0.9rem); }
  #liveCodigo { font-size: clamp(1rem, 5vw, 1.35rem); }
}


/* ==== MOBILE-ONLY TEXT SIZE (targeted) ==== */
@media (max-width: 520px) {
  /* Código grande del informe */
  #liveCodigo {
    font-size: clamp(0.9rem, 5vw, 1.1rem) !important;
    line-height: 1.05;
    letter-spacing: .02em;
  }
  /* Título bilingüe */
  .bilingual-title { line-height: 1.12; }
  .bilingual-title .line1 { font-size: clamp(0.78rem, 3.2vw, 0.95rem) !important; }
  .bilingual-title .line2 { font-size: clamp(0.72rem, 3.0vw, 0.9rem) !important; }
  .bilingual-title .line3 .es { font-size: clamp(0.74rem, 3.0vw, 0.88rem) !important; }
  .bilingual-title .line3 .cn { font-size: clamp(0.7rem, 2.8vw, 0.85rem) !important; }
  
  /* Utilidades: aplica a cualquier texto que quieras reducir solo en móvil */
  .mobile-sm { font-size: 0.85rem !important; }
  .mobile-xs { font-size: 0.75rem !important; }
}


/* ==== MOBILE LAYOUT (do NOT mimic desktop) ==== */
/* Phones up to 520px: wrap logos, shrink fonts, remove negative spacing */
@media (max-width: 520px) {
  .kpi-card { padding-top: 0 !important; }

  .kpi-card .logo-bar {
    position: static !important;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin: 2px 0 6px 0;
  }
  .kpi-card .logo-bar .rdv-logo {
    height: 30px !important;
    max-width: 42%;
    width: auto;
    object-fit: contain;
  }

  .bilingual-title { margin-top: 0 !important; padding: 0 6px; line-height: 1.15; }
  .bilingual-title .line1 { font-size: clamp(0.72rem, 3.0vw, 0.9rem) !important; }
  .bilingual-title .line2 { font-size: clamp(0.68rem, 2.8vw, 0.85rem) !important; }
  .bilingual-title .line3 .es { font-size: clamp(0.7rem, 2.9vw, 0.85rem) !important; }
  .bilingual-title .line3 .cn { font-size: clamp(0.66rem, 2.7vw, 0.82rem) !important; }
  .bilingual-title .sep { width: 90%; margin:.25rem auto .35rem; }

  #liveCodigo { font-size: clamp(0.9rem, 4.8vw, 1.05rem) !important; line-height:1.08; }
}

/* Very small phones ≤360px: stack logos vertically to guarantee no overlap */
@media (max-width: 360px) {
  .kpi-card .logo-bar { flex-direction: column; gap: 6px; }
  .kpi-card .logo-bar .rdv-logo { height: 28px !important; max-width: 70%; }
  .bilingual-title .line1 { font-size: 0.7rem !important; }
  .bilingual-title .line2 { font-size: 0.66rem !important; }
}


/* ==== TABLET & SMALL LAPTOP SAFE ZONE (<=900px) ==== */
/* Use stacked/compact header so logos/text never overlap on mid widths */
@media (max-width: 900px) {
  .kpi-card { padding-top: 0 !important; }
  .kpi-card .logo-bar {
    position: static !important;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin: 4px 0 8px 0;
  }
  .kpi-card .logo-bar .rdv-logo {
    height: 36px !important;
    max-width: 42%;
    width: auto;
    object-fit: contain;
  }
  .bilingual-title { margin-top: 0 !important; line-height: 1.15; padding: 0 6px; }
  .bilingual-title .line1 { font-size: clamp(0.82rem, 2.2vw, 1rem) !important; }
  .bilingual-title .line2 { font-size: clamp(0.76rem, 2.0vw, 0.95rem) !important; }
  .bilingual-title .line3 .es { font-size: clamp(0.78rem, 2.0vw, 0.92rem) !important; }
  .bilingual-title .line3 .cn { font-size: clamp(0.74rem, 1.9vw, 0.9rem) !important; }
  .bilingual-title .sep { width: 92%; margin:.3rem auto .45rem; }
  #liveCodigo { font-size: clamp(1rem, 3vw, 1.2rem) !important; line-height: 1.1; }
}


/* ==== PRINT: remove dark backgrounds/gradients so page doesn't turn black ==== */
@media print {
  html, body { 
    background: #fff !important; 
    color: #000 !important;
  }
  /* Remove card/soft gradients and shadows */
  .card, .soft, .rep-card, .sys-note, .thumb, .kpi {
    background: #fff !important;
    background-image: none !important;
    box-shadow: none !important;
    filter: none !important;
    color: #000 !important;
  }
  /* Remove borders and rounded corners if they create dark blocks */
  .card, .soft { border: 0 !important; border-radius: 0 !important; }
  /* Ensure wrappers don't carry dark background */
  .max-w-5xl, section, footer, header {
    background: #fff !important;
    color: #000 !important;
  }
  /* Force text color to black for all elements in print */
  * {
    color: #000 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  /* Specific fixes for elements that might still have issues */
  .rep-table th, .rep-table td {
    background: #fff !important;
    color: #000 !important;
    border-color: #000 !important;
  }
  .rep-card {
    border-color: #000 !important;
  }
}

/* Force light mode appearance for print to counteract dark mode */
@media print and (prefers-color-scheme: dark) {
  html, body {
    background: #fff !important;
    color: #000 !important;
  }
  * {
    background: #fff !important;
    color: #000 !important;
  }
}

/* Force light appearance specifically for report content during print in mobile devices */
@media print and (max-width: 768px) {
  #report, #report * {
    background: #fff !important;
    color: #000 !important;
  }
  .rep-card, .rep-table, .rep-table th, .rep-table td {
    background: #fff !important;
    color: #000 !important;
    border-color: #000 !important;
  }
}

/* Safari-specific print styles to remove headers and footers */
@media print {
  @page {
    margin: 0.5cm;
    -webkit-print-color-adjust: exact;
    color-adjust: exact;
  }
  
  /* Specific rule to prevent Safari from adding URL, date, and page numbers */
  @page :header { 
    display: none !important;
    content: "" !important;
  }
  
  @page :footer { 
    display: none !important;
    content: "" !important;
  }

}
/* Tablets y móviles grandes */
@media (max-width: 900px) {
  .kpi-card .logo-bar .rdv-logo {
    height: 80px !important;      /* antes: 36px */
    max-width: 80%;               /* antes: 42% */
  }
}

/* Móviles estándar */
@media (max-width: 520px) {
  .kpi-card .logo-bar .rdv-logo {
    height: 70px !important;      /* antes: 30–36px según tu versión */
    max-width: 48%;
  }
}

/* Móviles muy angostos */
@media (max-width: 360px) {
  .kpi-card .logo-bar .rdv-logo {
    height: 70px !important;      /* antes: 28px */
    max-width: 72%;
  }
}

/* === OVERRIDES MÓVIL: tipografía más pequeña y logos compactos === */
@media (max-width: 520px){
  html { font-size: 14px; }
  body { line-height: 1.2; }
  label, input, select, textarea, .btn, .note { font-size: 0.9rem; }
  table, th, td { font-size: 0.85rem; }
  .bilingual-title .line1,
  .bilingual-title .line2,
  .bilingual-title .line3 .es,
  .bilingual-title .line3 .cn { font-size: 0.9em !important; }
}
@media (max-width: 900px){
  .kpi-card .logo-bar .rdv-logo { height: 44px !important; max-width: 46% !important; }
}
@media (max-width: 520px){
  .kpi-card .logo-bar .rdv-logo { height: 32px !important; max-width: 44% !important; }
}
@media (max-width: 360px){
  .kpi-card .logo-bar .rdv-logo { height: 28px !important; max-width: 70% !important; }
}

/* ====== CHATBOT STYLES ====== */
#chatbot-toggler {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: var(--brand);
  color: white;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  z-index: 999;
}

#chatbot-container {
  position: fixed;
  bottom: 90px;
  right: 20px;
  width: 350px;
  max-width: 90vw;
  height: 500px;
  max-height: 70vh;
  background-color: #1a263a;
  border-radius: 15px;
  box-shadow: 0 5px 15px rgba(0,0,0,.3);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  z-index: 1000;
  border: 1px solid rgba(255,255,255,.15);
}

#chatbot-header {
  background-color: rgba(255,255,255,.08);
  padding: 10px 15px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#chatbot-close {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
}

#chatbot-body {
  flex-grow: 1;
  padding: 15px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.bot-message, .user-message {
  padding: 10px 15px;
  border-radius: 20px;
  max-width: 80%;
  line-height: 1.4;
}

.bot-message {
  background-color: #2a3b5c;
  color: #e5e7eb;
  align-self: flex-start;
  border-bottom-left-radius: 5px;
}

.user-message {
  background-color: var(--brand);
  color: #0b1220;
  align-self: flex-end;
  border-bottom-right-radius: 5px;
}

#chatbot-options {
  padding: 10px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  border-top: 1px solid rgba(255,255,255,.1);
}

.chatbot-option {
  background-color: transparent;
  border: 1px solid var(--brand);
  color: var(--brand);
  padding: 10px;
  border-radius: 8px;
  cursor: pointer;
  text-align: left;
  font-weight: 500;
  transition: background-color 0.2s, color 0.2s;
}

.chatbot-option:hover {
  background-color: var(--brand);
  color: #0b1220;
}

.hidden {
  display: none !important;
}

/* Estilos específicos para móviles - mostrar logos en parte superior lado a lado */
@media (max-width: 767px) {
  /* Forzar la visualización del contenedor de logos */
  .kpi-card .logo-bar {
    position: static !important;
    display: flex !important;
    flex-direction: row !important;
    justify-content: space-around !important;
    align-items: center !important;
    padding: 10px !important;
    margin: 10px auto !important;
    width: 100% !important;
    background: rgba(255,255,255,0.05) !important;
    border-radius: 8px !important;
    min-height: 80px !important; /* Asegurar espacio suficiente */
  }
  
  /* Asegurar que los logos estén en la parte superior */
  .kpi-card .position-relative {
    position: static !important;
    display: block !important;
  }
  
  /* Establecer orden visual para que los logos aparezcan primero */
  .kpi-card .logo-bar {
    order: 1 !important;
  }
  
  .kpi-card .bilingual-title {
    order: 2 !important;
  }
  
  /* Estilos para los logos */
  .rdv-logo {
    height: 65px !important;
    width: auto !important;
    max-width: 45% !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* ESTILOS EXTREMADAMENTE ESPECÍFICOS para las imágenes */
  .kpi-card .logo-bar img[src="ECUACORRIENTE.png"],
  .kpi-card .logo-bar img[src="LOGO GDR.jpeg"] {
    display: inline-block !important;
    visibility: visible !important;
    opacity: 1 !important;
    height: 65px !important;
    max-width: 45% !important;
    min-width: 100px !important;
    background: white !important;
    padding: 5px !important;
    border-radius: 4px !important;
  }
  
  /* Forzar visibilidad específica */
  .kpi-card img {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
  
  /* Resetear posiciones absolutas que puedan interferir */
  .kpi-card .position-relative .bilingual-title {
    position: static !important;
    transform: none !important;
    margin-top: 10px !important;
  }
}

/* Estilos para los modales vistosos de mensajes */
.mensaje-modal .modal-content {
  background: #1e293b !important;  /* Fondo sólido oscuro */
  border: 1px solid rgba(255,255,255,.08) !important;
  border-radius: 1rem !important;
  color: #e5e7eb !important;
  backdrop-filter: blur(10px) !important;
}

.mensaje-modal .modal-header {
  border-top-left-radius: calc(1rem - 1px) !important;
  border-top-right-radius: calc(1rem - 1px) !important;
  border-bottom: 1px solid rgba(255,255,255,.08) !important;
}

.mensaje-modal .modal-body {
  background: rgba(255,255,255,0.05) !important;
}

.mensaje-modal .modal-footer {
  border-bottom-left-radius: calc(1rem - 1px) !important;
  border-bottom-right-radius: calc(1rem - 1px) !important;
  border-top: 1px solid rgba(255,255,255,.08) !important;
  background: rgba(255,255,255,0.05) !important;
}

.mensaje-modal .alert {
  background: rgba(255,255,255,0.1) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
  border-radius: 0.5rem !important;
  color: #e5e7eb !important;
}

/* Asegurar que el botón de cierre sea visible */
.mensaje-modal .btn-close {
  filter: invert(1) !important;  /* Hacer que el botón de cierre sea visible en fondos oscuros */
}

/* Estilos para mensajes de consulta más visibles */
#mensajeConsulta .alert {
  background: rgba(255,255,255,0.15) !important;
  border: 1px solid rgba(255,255,255,.2) !important;
  border-left: 4px solid #0ea5e9 !important;  /* Linea izquierda azul para destacar */
  color: #e5e7eb !important;
  border-radius: 0.5rem !important;
  padding: 12px 15px !important;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06) !important;
  margin: 10px 0 !important;
}

#mensajeConsulta .alert-success {
  border-left-color: #16a34a !important;  /* Verde para éxito */
}

#mensajeConsulta .alert-warning {
  border-left-color: #f59e0b !important;  /* Amarillo para advertencia */
}

#mensajeConsulta .alert-danger {
  border-left-color: #dc2626 !important;   /* Rojo para error */
}

#mensajeConsulta .alert-info {
  border-left-color: #0ea5e9 !important;   /* Azul para información */
}

@media print {
  #chatbot-container, #chatbot-toggler {
    display: none !important;
  }
}

/* Estilos para el modal del mapa */
#map-modal .modal-content {
    max-width: 90vw;
    height: 90vh;
}

/* Position the confirm button closer to the map */
/* Position confirm button as an overlay on the map for better accessibility */
#modal-map-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: auto;
}

#confirm-location-btn {
    position: absolute;
    bottom: 10px;
    right: 10px;
    z-index: 100;                /* Higher than other map overlays */
    margin: 0;
}

/* Keep coordinates display in footer but make it more compact */
#modal-coordinates-display {
    text-align: left;
    font-size: 0.9rem;
    word-break: break-word;
}

/* Adjust positioning for confirm button in map modal */
#confirm-location-btn {
    margin-left: 10px; /* Add some space from coordinates display */
}

#modal-map-container {
    width: 100%;
    height: 100%;
    position: relative;
    overflow: auto;
}

#modal-map-image {
    width: 100%;
    height: auto;
    cursor: crosshair;
}

#modal-map-pin {
    position: absolute;
    display: none;
    transform: translate(-50%, -100%);
    pointer-events: none;
    z-index: 10;
}

#modal-map-pin i {
    color: red;
    font-size: 2rem;
    text-shadow: 0 0 3px black;
}